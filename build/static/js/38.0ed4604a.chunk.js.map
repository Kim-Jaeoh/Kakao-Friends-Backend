{"version":3,"file":"static/js/38.0ed4604a.chunk.js","mappings":"oNA4CA,UArCc,WACZ,IAAMA,GAAWC,EAAAA,EAAAA,MACTC,GAAaC,EAAAA,EAAAA,KAAbD,SAEFE,EAAO,IAAIC,IAAIC,OAAOC,SAASC,MAAMC,aAAaC,IAAI,QAGtDC,EAAa,yCAAG,oGACdC,EAAAA,EAAAA,IAAM,CACVC,OAAQ,OACRC,IAAK,sCACLC,QAAS,CACP,eAAgB,mDAElBC,KAAM,CACJC,WAAY,qBACZC,UAAWC,mCACXC,aAAcD,8BACdf,KAAAA,KAGDiB,MAAK,SAACC,GACLC,aAAaC,QAAQ,QAASF,EAAIN,KAAKS,cACvCvB,IACAF,GAAS0B,EAAAA,EAAAA,IAAc,SACzB,IACCC,OAAM,SAACC,GAAC,OAAKC,QAAQC,IAAIF,EAAE,IAAE,KAAD,sCAChC,kBApBkB,mCA2BnB,OALAG,EAAAA,EAAAA,YAAU,WACH3B,GACLO,GACF,GAAG,KAEI,SAAC,IAAO,GACjB,C","sources":["pages/Login.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Spinner } from \"../components/utils/Spinner\";\nimport { useKakaoAuth } from \"../hooks/useKakaoAuth\";\nimport { setLoginToken } from \"../reducer/user\";\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const { userInfo } = useKakaoAuth(); // 카카오 로그인 커스텀 훅\n\n  const code = new URL(window.location.href).searchParams.get(\"code\");\n\n  // 토큰 받기\n  const getKakaoToken = async () => {\n    await axios({\n      method: \"POST\",\n      url: \"https://kauth.kakao.com/oauth/token\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n      },\n      data: {\n        grant_type: \"authorization_code\",\n        client_id: process.env.REACT_APP_KAKAO_REST_API_KEY,\n        redirect_uri: process.env.REACT_APP_KAKAO_REDIRECT_URI,\n        code,\n      },\n    })\n      .then((res) => {\n        localStorage.setItem(\"token\", res.data.access_token);\n        userInfo();\n        dispatch(setLoginToken(\"login\"));\n      })\n      .catch((e) => console.log(e));\n  };\n\n  useEffect(() => {\n    if (!code) return;\n    getKakaoToken();\n  }, []);\n\n  return <Spinner />;\n};\n\nexport default Login;\n"],"names":["dispatch","useDispatch","userInfo","useKakaoAuth","code","URL","window","location","href","searchParams","get","getKakaoToken","axios","method","url","headers","data","grant_type","client_id","process","redirect_uri","then","res","localStorage","setItem","access_token","setLoginToken","catch","e","console","log","useEffect"],"sourceRoot":""}