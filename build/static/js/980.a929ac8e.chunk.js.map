{"version":3,"file":"static/js/980.a929ac8e.chunk.js","mappings":"iQAUMA,EAAqBC,EAAAA,EAAAA,IAAU,kRAe/BC,EAAyBD,EAAAA,EAAAA,GAAS,0HAQlCE,EAAsBF,EAAAA,EAAAA,GAAS,gPAa/BG,EAAmBH,EAAAA,EAAAA,IAAU,sBAE7BI,GAAqBJ,EAAAA,EAAAA,GAAOK,EAAAA,GAAPL,CAAY,saA2BjCM,EAAoBN,EAAAA,EAAAA,IAAU,maAoB9BO,EAAoBP,EAAAA,EAAAA,IAAU,qMAa9BQ,EAAYR,EAAAA,EAAAA,OAAa,gXA2E/B,UArDoB,SAAH,GAAuB,IAAjBS,EAAS,EAATA,UACrB,GAAkCC,EAAAA,EAAAA,UAAS,IAAG,eAAvCC,EAAS,KAAEC,EAAY,KACtBC,GAAgBC,EAAAA,EAAAA,KAAhBD,YAEAE,GAAeC,EAAAA,EAAAA,KAAfD,WAER,GAAsCE,EAAAA,EAAAA,KAA9BC,EAAU,EAAVA,WAAYC,EAAa,EAAbA,cAENC,GAAaC,EAAAA,EAAAA,UAAS,cAAeC,EAAAA,GAAgB,CACjEC,sBAAsB,EAEtBC,QAAS,SAACC,GAAC,OAAKC,QAAQC,IAAIF,EAAEG,QAAQ,IAHhCC,KAaR,OAPAC,EAAAA,EAAAA,YAAU,WAER,IAAIC,EAAiB,OAAXlB,QAAW,IAAXA,OAAW,EAAXA,EAAamB,KAAI,SAACC,GAAI,OAAa,OAARb,QAAQ,IAARA,OAAQ,EAARA,EAAUS,KAAKI,EAAO,EAAE,IACvDC,EAAY,OAAHH,QAAG,IAAHA,OAAG,EAAHA,EAAKG,QAAO,SAACD,GAAI,OAAS,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAME,WAAY1B,CAAS,IAChEG,EAAasB,EACf,GAAG,CAAS,OAARd,QAAQ,IAARA,OAAQ,EAARA,EAAUS,KAAMpB,EAAWI,KAG7B,UAACd,EAAkB,YACjB,kGACA,SAACE,EAAsB,UACX,OAATU,QAAS,IAATA,OAAS,EAATA,EAAWyB,MAAM,EAAG,GAAGJ,KAAI,SAACK,EAAMC,GAAK,OACtC,SAACpC,EAAmB,WAClB,UAACC,EAAgB,YACf,SAACC,EAAkB,CAACmC,GAAE,kBAAiB,OAAJF,QAAI,IAAJA,OAAI,EAAJA,EAAMF,SAAU,UACjD,gBAAKK,IAAS,OAAJH,QAAI,IAAJA,OAAI,EAAJA,EAAMI,MAAOC,IAAS,OAAJL,QAAI,IAAJA,OAAI,EAAJA,EAAMM,MAAOC,QAAQ,YAEnD,UAACtC,EAAiB,YAChB,4BAAa,OAAJ+B,QAAI,IAAJA,OAAI,EAAJA,EAAMM,SACf,UAACpC,EAAiB,YAChB,0BAAOQ,EAAe,OAAJsB,QAAI,IAAJA,OAAI,EAAJA,EAAMQ,SAAc,aAExC,SAACrC,EAAS,CAACsC,QAAS,SAACrB,GAAC,OAAKP,EAAWmB,EAAK,EAAC,UAC5B,OAAblB,QAAa,IAAbA,OAAa,EAAbA,EAAee,QAAO,SAACa,GAAG,OAAKA,EAAIZ,WAAgB,OAAJE,QAAI,IAAJA,OAAI,EAAJA,EAAMF,QAAO,IAC1Da,QAAS,GACV,SAAC,MAAS,CAACC,MAAO,CAAEC,MAAO,cAE3B,SAAC,MAAK,aAfUZ,EAoBJ,QAKhC,C","sources":["components/utils/ProductSeen.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { BsBag, BsBagFill } from \"react-icons/bs\";\nimport { useBasketToggle } from \"../../hooks/useBasketToggle\";\nimport { Link } from \"react-router-dom\";\nimport { usePriceComma } from \"../../hooks/usePriceComma\";\nimport { useQuery } from \"react-query\";\nimport { ProductListApi } from \"../../apis/dataApi\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\n\nconst BasketRecommendBox = styled.div`\n  padding-top: 36px;\n  margin-bottom: 36px;\n  border-top: 4px solid #f7f7f7;\n\n  > strong {\n    display: block;\n    padding: 0 20px 16px;\n    font-size: 22px;\n    line-height: 28px;\n    letter-spacing: -0.017em;\n    font-weight: bold;\n  }\n`;\n\nconst BasketRecommendListBox = styled.ul`\n  padding: 0 13px 0 12px;\n\n  @media screen and (min-width: 640px) {\n    padding: 0 14px;\n  }\n`;\n\nconst BasketRecommendList = styled.li`\n  display: inline-block;\n  width: 50%;\n  padding: 0 7px 40px 8px;\n  vertical-align: top;\n  box-sizing: border-box;\n\n  @media screen and (min-width: 640px) {\n    width: 33.333%;\n    padding: 0 6px 40px;\n  }\n`;\n\nconst RecommendListBox = styled.div``;\n\nconst RecommendListImage = styled(Link)`\n  display: block;\n  overflow: hidden;\n  position: relative;\n  border-radius: 6px;\n  padding-top: 100%;\n\n  ::before {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 1;\n    background-color: rgba(0, 0, 0, 0.02);\n    content: \"\";\n  }\n\n  img {\n    display: block;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n`;\n\nconst RecommendListText = styled.div`\n  padding-top: 10px;\n  position: relative;\n  > strong {\n    display: block;\n    display: -webkit-box;\n    overflow: hidden;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 20px;\n    color: #747475;\n    max-height: 40px;\n    text-overflow: ellipsis;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    word-break: break-all;\n    padding-right: 30px;\n  }\n`;\n\nconst RecomendListPrice = styled.div`\n  display: inline-block;\n  padding-top: 4px;\n  font-weight: 700;\n  font-size: 15px;\n  line-height: 24px;\n  vertical-align: top;\n\n  span {\n    font-size: 16px;\n  }\n`;\n\nconst BagButton = styled.button`\n  color: #909092;\n  position: absolute;\n  top: 5px;\n  right: 0px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  svg {\n    font-size: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 6px;\n  }\n\n  /* @media screen and (min-width: 640px) {\n    right: 6px;\n  } */\n`;\n\nconst ProductSeen = ({ productId }) => {\n  const [seenArray, setSeenArray] = useState([]);\n  const { viewedItems } = useLocalStorage(); // 로컬 저장 커스텀 훅\n\n  const { PriceComma } = usePriceComma(); // 가격 콤마 커스텀 훅\n\n  const { toggleIcon, currentBasket } = useBasketToggle(); //장바구니 커스텀 훅\n\n  const { data: dataList } = useQuery(\"productList\", ProductListApi, {\n    refetchOnWindowFocus: false,\n    // onSuccess: (e) => setLoading(true),\n    onError: (e) => console.log(e.message),\n  });\n\n  useEffect(() => {\n    // 본 순서대로 나열되게 새로 map을 이용하여 저장함\n    let arr = viewedItems?.map((item) => dataList?.data[item - 1]);\n    const filter = arr?.filter((item) => item?.product !== productId);\n    setSeenArray(filter);\n  }, [dataList?.data, productId, viewedItems]);\n\n  return (\n    <BasketRecommendBox>\n      <strong>최근 본 상품이 요기 있네</strong>\n      <BasketRecommendListBox>\n        {seenArray?.slice(0, 8).map((list, index) => (\n          <BasketRecommendList key={index}>\n            <RecommendListBox>\n              <RecommendListImage to={`/detail/${list?.product}`}>\n                <img src={list?.image} alt={list?.title} loading=\"lazy\" />\n              </RecommendListImage>\n              <RecommendListText>\n                <strong>{list?.title}</strong>\n                <RecomendListPrice>\n                  <span>{PriceComma(list?.price)}</span>원\n                </RecomendListPrice>\n                <BagButton onClick={(e) => toggleIcon(list)}>\n                  {currentBasket?.filter((obj) => obj.product === list?.product)\n                    .length > 0 ? (\n                    <BsBagFill style={{ color: \"#ff447f\" }} />\n                  ) : (\n                    <BsBag />\n                  )}\n                </BagButton>\n              </RecommendListText>\n            </RecommendListBox>\n          </BasketRecommendList>\n        ))}\n      </BasketRecommendListBox>\n    </BasketRecommendBox>\n  );\n};\n\nexport default ProductSeen;\n"],"names":["BasketRecommendBox","styled","BasketRecommendListBox","BasketRecommendList","RecommendListBox","RecommendListImage","Link","RecommendListText","RecomendListPrice","BagButton","productId","useState","seenArray","setSeenArray","viewedItems","useLocalStorage","PriceComma","usePriceComma","useBasketToggle","toggleIcon","currentBasket","dataList","useQuery","ProductListApi","refetchOnWindowFocus","onError","e","console","log","message","data","useEffect","arr","map","item","filter","product","slice","list","index","to","src","image","alt","title","loading","price","onClick","obj","length","style","color"],"sourceRoot":""}